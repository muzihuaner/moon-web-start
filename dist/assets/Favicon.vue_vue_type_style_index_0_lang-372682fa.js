import{d as f,C as d,i as p,R as v,a8 as m,o as _,c as y,b2 as x,f as h}from"./index-a8f1b17d.js";import{F as g}from"./symbol-1a42dab9.js";import{u as C}from"./icon_style-98b05414.js";const S=f({__name:"Favicon",props:{site:{type:Object,required:!0},size:{type:Number,default:24},round:{type:Boolean,default:!1}},setup(n){const a=n,{iconStyle:u}=C(),c=d(g),o=p();return v(()=>{var l;const i=a.site.id,s=c.value.get(i);if(s)s&&((l=o.value)==null||l.appendChild(s));else{const t=new Image;t.src=a.site.favicon||m(a.site.url),t.onload=()=>{var e;(e=o.value)==null||e.appendChild(t),c.value.set(i,t)},t.onerror=()=>{var r;const e=document.createElement("div");e.innerText=a.site.name.toLocaleUpperCase().charAt(0),c.value.set(i,e),(r=o.value)==null||r.appendChild(e)}}}),(i,s)=>(_(),y("div",{ref_key:"$faviconBox",ref:o,class:"favicon",style:x([h(u),{width:`${n.size}px`,height:`${n.size}px`,fontSize:`${n.size/2}px`}])},null,4))}});export{S as _};
