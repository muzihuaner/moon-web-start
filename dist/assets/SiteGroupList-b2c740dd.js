import{d as B,j as N,k as j,D as h,u as z,o as m,c as v,g as l,w as c,b as i,n as S,f as e,aa as g,t as F,e as q,ab as M,h as y,m as x,l as O,q as P,s as R,_ as T}from"./index-a8f1b17d.js";import{u as A,d as I}from"./draggable-ab2e5b52.js";import{_ as H}from"./SiteItemCard.vue_vue_type_script_setup_true_lang-c775fc14.js";import{u as J}from"./modal-d582e1fa.js";import"./Favicon.vue_vue_type_style_index_0_lang-372682fa.js";import"./symbol-1a42dab9.js";import"./icon_style-98b05414.js";const k=p=>(P("data-v-7f800295"),p=p(),R(),p),K={"py-24":""},Q=["onClick"],U=k(()=>i("div",{"i-carbon:add":""},null,-1)),W={"w-full":""},Y={key:0,absolute:"","z-9":"","flex-center":"","h-40":"","r-0":""},Z=k(()=>i("div",{"i-carbon:add":""},null,-1)),ee={key:0,"my-12":""},te=k(()=>i("div",{"i-carbon:add":""},null,-1)),se=B({__name:"SiteGroupList",setup(p){const o=J(),a=N(),f=j();function $(t,u,r){f.name==="setting"&&(r.preventDefault(),o.showModal("update","site",t,u))}function E(t){f.name==="setting"&&o.showModal("update","group",t)}const L=h(()=>f.name==="setting"&&a.data.length>0),{draggableOptions:b,handleStart:w,handleEnd:C}=A(),s=z(),n=h(()=>s.settings.tagMode==="Full"),D=h(()=>s.getSettingItem("linkStrategy").value);return(t,u)=>{const r=O;return m(),v("section",K,[l(e(I),x({class:"flex flex-col gap-y-10",list:e(a).data[e(a).cateIndex].groupList,"item-key":"id",handle:".group__handle","drag-class":"dragging","component-data":{tag:"div",type:"transition-group"}},e(b),{onStart:e(w),onEnd:e(C)}),{item:c(({element:X,index:d})=>[i("div",{class:S({"mb-6":e(s).isSetting,"flex gap-x-8 items-start":!(("isXsScreen"in t?t.isXsScreen:e(g))||e(n))}),relative:""},[i("div",{class:S({"cursor-pointer bg-$site-hover-c":e(s).isSetting,"mb-12 w-full":("isXsScreen"in t?t.isXsScreen:e(g))||e(n)}),"shrink-0":"","w-96":"",onClick:_=>E(d)},[i("div",{class:S(["group__handle",{"group__header--setting":e(s).isSetting,"hover:bg-$site-hover-c":e(s).isSetting}]),flex:"","items-center":"","justify-between":"","px-6":"","h-40":""},[i("div",{class:S({"group__name pl-16 py-4":("isXsScreen"in t?t.isXsScreen:e(g))||e(n)}),"whitespace-nowrap":"","text-15":"","op-80":"","overflow-hidden":""},F(X.name),3),e(s).isSetting&&(("isXsScreen"in t?t.isXsScreen:e(g))||e(n))?(m(),q(r,{key:0,class:"btn--add-site",type:"primary",circle:"",focusable:!1,onClick:M(_=>e(o).showModal("add","site",d),["stop"])},{icon:c(()=>[U]),_:2},1032,["onClick"])):y("",!0)],2)],10,Q),i("div",W,[l(e(I),x({list:e(a).data[e(a).cateIndex].groupList[d].siteList,"item-key":"id",group:"site",handle:".site__handle","drag-class":"dragging","component-data":{tag:"div",type:"transition-group",class:e(n)?"grid gap-12 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4":"grid gap-10 grid-cols-3 md:grid-cols-4 lg:grid-cols-6"}},e(b),{onStart:e(w),onEnd:e(C)}),{item:c(({element:_,index:G})=>[i("div",null,[l(H,{site:_,type:e(s).settings.tagMode,target:e(D),"is-setting":e(s).isSetting,"is-dragging":e(s).isDragging,onClick:V=>$(d,G,V)},null,8,["site","type","target","is-setting","is-dragging","onClick"])])]),_:2},1040,["list","component-data","onStart","onEnd"])]),e(s).isSetting&&!(("isXsScreen"in t?t.isXsScreen:e(g))||e(n))?(m(),v("div",Y,[l(r,{class:"btn--add-site",type:"primary",circle:"",focusable:!1,onClick:M(_=>e(o).showModal("add","site",d),["stop"])},{icon:c(()=>[Z]),_:2},1032,["onClick"])])):y("",!0)],2)]),_:1},16,["list","onStart","onEnd"]),e(L)?(m(),v("div",ee,[l(r,{type:"primary",secondary:"","w-full":"",focusable:!1,onClick:u[0]||(u[0]=X=>e(o).showModal("add","group"))},{icon:c(()=>[te]),_:1})])):y("",!0)])}}});const ce=T(se,[["__scopeId","data-v-7f800295"]]);export{ce as default};
